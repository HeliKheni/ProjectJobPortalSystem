@model ProjectJobPortalSystem.Models.JobsModel

@{
    ViewData["Title"] = "Delete";
}

<div class="container">
    <h1 class="alert alert-primary display-4 mb-4">Delete Job</h1>

    <h3>Are you sure you want to delete this?</h3>
    <div class="card mb-4">
        <div class="card-body">
            <dl class="row">
                
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.JobTitle)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.JobTitle)
                </dd>
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.Description)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Description)
                </dd>
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.Website)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Website)
                </dd>
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.TypeofJob)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.TypeofJob)
                </dd>
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.SalaryInfo)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.SalaryInfo)
                </dd>
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.PostedDate)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.PostedDate)
                </dd>
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.EmployerId)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.EmployerId)
                </dd>
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.Location)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Location)
                </dd>
            </dl>
            @if (ViewBag.JobSeekers != null && ViewBag.JobSeekers.Count > 0)
            {
                <h3 class="mb-4 alert-success">Applied Job Seekers</h3>
                <table class="table table-striped">
                    <thead>
                        <tr class="table-dark">
                            <th>Job Seeker ID</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var jobSeeker in ViewBag.JobSeekers)
                        {
                            <tr class="table-info">
                                <td>@jobSeeker.Id</td>
                                <td>@jobSeeker.FirstName</td>
                                <td>@jobSeeker.LastName</td>
                                <td>@jobSeeker.Email</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <h3 class="mb-4 alert-danger">No job seekers applied for this job.</h3>

            }
            <form asp-action="Delete">
                <input type="submit" value="Delete" class="btn btn-danger" asp-route-id="@Model.EmployerId" /> |
                <a asp-controller="Employer" asp-action="Details" asp-route-id="@Model.EmployerId" class="btn btn-danger">Back to List</a>
            </form>
        </div>
    </div>
</div>
